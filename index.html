<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Minums | Your Daily Refreshment</title>
    <link
        href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;600;700&family=Poppins:wght@500;600;700&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="css/styles.css">
</head>

<body>

    <header class="main-header">
        <div class="logo">
            <a href="index.html">
                <h1>The Minums
                    <img src="images/TheMinumsLogo.png" alt="The Minums Logo" class="header-logo-icon logo-large">
                </h1>
            </a>
        </div>



        <button class="hamburger" aria-label="Toggle navigation">
            <span></span>
            <span></span>
            <span></span>
        </button>

        <nav class="main-nav">
            <ul>
                <li><a href="index.html" class="active">Home</a></li>
                <li><a href="listing.html">Our Menu</a></li>
                <li><a href="about.html">About Us</a></li>

                <li><a href="locations.html">Locations</a></li>
                <li><a href="careers.html">Careers</a></li>
            </ul>
        </nav>

        <div class="user-actions">

            <a href="cart.html" class="nav-icon outline-icon cart-icon">
                <svg viewBox="0 0 24 24" class="icon-svg">
                    <path d="M3 3h2l2.5 13h10.5l2-8H7" fill="none" stroke-width="1.8" />
                    <circle cx="10" cy="20" r="1.5" />
                    <circle cx="18" cy="20" r="1.5" />
                </svg>
                <span class="icon-badge" id="cart-item-count">0</span>
            </a>

            <a href="admin.html" class="nav-icon outline-icon admin-icon">
                <svg viewBox="0 0 24 24" class="icon-svg">
                    <circle cx="12" cy="8" r="3" />
                    <path d="M4 20c1.5-4 14.5-4 16 0" fill="none" stroke-width="1.8" />
                </svg>
            </a>

        </div>





    </header>

    <main>

        <section class="hero-section minums-hero">
            <div class="hero-content">
                <h2>Sip, Smile, Repeat.</h2>
                <p>Discover handcrafted refreshments, delivered fresh to your door. <br>Your perfect day starts here.
                </p>
                <a href="listing.html" class="cta-button primary-btn">Explore Our Menu</a>
            </div>
        </section>


        <!-- Featured products -->
        <section class="featured-products section-spacing">
            <h3>‚ú® Our Signature Sips</h3>

            <!-- Quick Info -->
            <div class="quick-info">
                <span>‚è± 15‚Äì20 min delivery</span>
                <span>üßä Freshly made</span>
                <span>üí≥ Cashless payment</span>
            </div>

            <div class="product-grid" id="featured-grid">
                <p class="loading-text">Loading signatures...</p>
                <!-- Dynamic products will be loaded here -->
            </div>
        </section>

        <script>
            document.addEventListener('DOMContentLoaded', () => {
                const grid = document.getElementById('featured-grid');
                if (!grid || typeof db === 'undefined') return;

                db.collection("products").limit(3).get().then((snap) => {
                    grid.innerHTML = '';
                    if (snap.empty) {
                        grid.innerHTML = '<p>Check back later for our signatures!</p>';
                        return;
                    }

                    snap.forEach(doc => {
                        const p = doc.data();
                        p.id = doc.id;
                        const detailsUrl = `detail.html?id=${p.id}&name=${encodeURIComponent(p.name)}&price=${p.price}&image=${encodeURIComponent(p.image)}&desc=${encodeURIComponent(p.description || '')}`;
                        const hasAddons = p.allowAddons === true;
                        const buttonText = hasAddons ? 'Select Options' : 'Add to Cart';
                        const buttonOnClick = hasAddons ? `window.location.href='${detailsUrl}'` : `addToCartWrapper('${p.id}')`;

                        const article = document.createElement('article');
                        article.className = 'product-card';
                        article.innerHTML = `
                            <figure>
                                <img src="${p.image}" alt="${p.name}" onerror="this.src='images/default.jpg'">
                                <figcaption>${p.category || 'Premium'}</figcaption>
                            </figure>
                            <h4>${p.name}</h4>
                            <p class="description">${p.description || 'Delicious refreshment.'}</p>
                            <p class="price">RM${parseFloat(p.price).toFixed(2)}</p>
                            <a href="${detailsUrl}" class="view-details button-secondary">View Details</a>
                            <button class="add-to-cart-btn button-primary" onclick="${buttonOnClick}">${buttonText}</button>
                        `;
                        grid.appendChild(article);
                    });
                }).catch(err => {
                    console.error("Error loading featured products:", err);
                    grid.innerHTML = '<p>Error loading signatures.</p>';
                });
            });

            function addToCartWrapper(id) {
                db.collection("products").doc(id).get().then(doc => {
                    if (doc.exists) {
                        const p = doc.data();
                        addToCart({
                            id: doc.id,
                            name: p.name,
                            price: parseFloat(p.price),
                            image: p.image
                        });
                    }
                });
            }
        </script>
        </section>

        <section class="value-proposition minums-usp section-spacing">
            <h3>Why Choose The Minums?</h3>

            <p class="usp-subtitle">
                What makes us different from the rest
            </p>

            <div class="usp-grid">
                <div class="usp-item">
                    <span class="usp-icon">üåø</span>
                    <h4>Fresh Ingredients</h4>
                    <p>We source only the finest, natural ingredients for every sip.</p>
                </div>
                <div class="usp-item">
                    <span class="usp-icon">üõµ</span>
                    <h4>Fast & Reliable Delivery</h4>
                    <p>Your favorite drinks, quickly and carefully delivered to your door.</p>
                </div>
                <div class="usp-item">
                    <span class="usp-icon">‚ôªÔ∏è</span>
                    <h4>Eco-Friendly Packaging</h4>
                    <p>Committed to sustainability with every eco-conscious container.</p>
                </div>
            </div>
        </section>

        <section class="call-to-action section-spacing">
            <div class="cta-banner">
                <h3>Ready for a Refreshing Experience?</h3>
                <p>Join The Minums family and redefine your daily hydration.</p>
                <a href="listing.html" class="cta-button primary-btn">Order Now</a>
            </div>
        </section>

    </main>

    <footer class="main-footer">
        <div class="footer-content">
            <div class="footer-logo">
                <h3>The Minums</h3>
                <p>Your Daily Refreshment, Delivered.</p>
            </div>
            <div class="footer-links-group">
                <h4>Quick Links</h4>
                <ul>
                    <li><a href="index.html">Home</a></li>
                    <li><a href="listing.html">Our Menu</a></li>
                    <li><a href="about.html">About Us</a></li>

                    <li><a href="locations.html">Locations</a></li>
                    <li><a href="careers.html">Careers</a></li>
                </ul>
            </div>
            <div class="footer-links-group">
                <h4>Support</h4>
                <ul>
                    <li><a href="faqs.html">FAQs</a></li>
                    <li><a href="delivery.html">Delivery Info</a></li>
                    <li><a href="policy.html">Privacy Policy</a></li>
                    <li><a href="terms.html">Terms of Service</a></li>
                </ul>
            </div>
            <div class="footer-social">
                <h4>Connect With Us</h4>
                <div class="social-icons">
                    <a href="https://www.instagram.com/the.minums?igsh=MThpaTF3eGZnZHJwaQ==" target="_blank"
                        aria-label="Instagram"><img src="images/icon-instagram.png" alt="Instagram"></a>
                    <a href="https://www.tiktok.com/@the.minums?_r=1&_t=ZS-92oS4B6M9VB" target="_blank"
                        aria-label="TikTok"><img src="images/icon-tiktok.png" alt="TikTok"></a>
                </div>
            </div>
        </div>
        <div class="footer-bottom">
            <p>&copy;2025 The Minums. All rights reserved.</p>
        </div>
    </footer>

    <script src="js/cart.js"></script>


    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>

    <script>

        const firebaseConfig = {
            apiKey: "AIzaSyA03gmfkZFjWauZR9uza-TkTrTuAPWsUFg",
            authDomain: "theminums.firebaseapp.com",
            projectId: "theminums",
            storageBucket: "theminums.firebasestorage.app",
            messagingSenderId: "130106351120",
            appId: "1:130106351120:web:458a2576f99cef54b4b495"
        };

        // Initialize Firebase
        firebase.initializeApp(firebaseConfig);

        // Initialize Firestore (The Database)
        const db = firebase.firestore();
    </script>
</body>

</html>

</html>